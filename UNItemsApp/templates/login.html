{% extends "layout-for-login.html" %}
{% block titulo %} UNItems - Inicio de sesión {% endblock %}

{% block css %}
<link rel="stylesheet" href="{{url_for('static', filename='css/login.css')}}" />
{% endblock %}

{% block contenido %}
<div class="container">
  <div class="forms-container">
    <div class="signin-signup">
      <form action="/loginUser" method="post" class="sign-in-form">
        {% with messages = get_flashed_messages() %}

        {% if messages %}
        <br/>
        {% for message in messages %}
        <div class="alert alert-primary alert-dismissible" role="alert">
            <strong>{{ message }}</strong>
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
        {% endfor %}
        {% endif %}

        {% endwith %}
        <h2 class="title">Iniciar Sesión</h2>
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
        <div class="input-field">
            <i class="fas fa-envelope"></i>
          <input name="email" type="text" placeholder="Correo Electrónico" pattern="[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)*@[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)*[.][a-zA-Z]{1,5}" required>
        </div>
        <div class="input-field">
          <i class="fas fa-lock"></i>
          <input name="password" type="password" placeholder="Contraseña" required>
        </div>
        <input type="submit" value="Continuar" class="btn-b solid">
      </form>

      <form action="/loginRegister" class="sign-up-form" method="post">
        <h2 class="title">Regístrate</h2>
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
        <div class="input-field">
            <i class="fas fa-user"></i>
            <input name="fullname" type="text" placeholder="Nombre Completo" required>
          </div>
        <div class="input-field">
          <i class="fas fa-user"></i>
          <input name="username" type="text" placeholder="Apodo" required>
        </div>
        <div class="input-field">
          <i class="fas fa-envelope"></i>
          <input name="email" type="email" placeholder="Email" pattern="[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)*@[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)*[.][a-zA-Z]{1,5}" required>
        </div>
        <div class="input-field">
          <i class="fas fa-lock"></i>
          <input name="password" type="password" placeholder="Contraseña" required>
        </div>
          <br>
            <div class="form-check check-p">
              <input class="form-check-input" type="checkbox" value="" id="invalidCheck" required>
              <label class="form-check-label" for="invalidCheck">
                Al registrarte, aceptas nuestras Condiciones de uso y Política de privacidad.
              </label>
              <div class="invalid-feedback">
                Es necesario aceptar los términos y condiciones para continuar con el registro.
              </div>
            </div>
        <input type="submit" class="btn-b" value="Continuar" required>
      </form>
    </div>
  </div>

  <div class="panels-container">
    <div class="panel left-panel">
      <div class="content">
        <h3>¿Nuevo aquí?</h3>
        <p>
        Regístrate para ser miembro de la comunidad de UNItems
        </p>
        <button class="btn transparent" id="sign-up-btn">
          Regístrate
        </button>
      </div>
      <img src="{{url_for('static', filename='icons/learning-icon.svg')}}" class="image" alt=""/>
    </div>
    <div class="panel right-panel">
      <div class="content">
        <h3>¿Ya tienes una cuenta?</h3>
        <p>
          Inicia Sesión para ingresar al contenido de UNItems
        </p>
        <button class="btn transparent" id="sign-in-btn">
          Inicia Sesión
        </button>
      </div>
      <img src="{{url_for('static', filename='icons/learn-icon.svg')}}" class="image" alt="" />
    </div>
  </div>
</div>
{% endblock %}

{% block js %}<script src="{{url_for('static', filename='js/login.js')}}"></script> {% endblock %}